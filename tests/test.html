<!DOCTYPE HTML>
<html lang="en-us">
  <head>
    <title>Kizzy tests</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="ded-tester.css" type="text/css">
    <script src="../build/scriptjs/dist/script.min.js"></script>
    <script>
      $script(['ded-tester.js', '../src/kizzy.js'], function() {
        $script.domReady(function() {

          var cache = Kizzy('test');
          cache.clear();

          test('thing should be undefined', 1, function() {
            ok(!cache.get('thing'));
          });

          test('should be defined after setting', 1, function() {
            cache.set('thing', {
              hello: 'world'
            });
            ok((cache.get('thing').hello == 'world'));
          });

          test('should be able to expire', 2, function() {
            cache.set('thing', {
              hello: 'world'
            }, 500);
            ok((cache.get('thing').hello == 'world')); // still defined
            setTimeout(function() {
              ok(!cache.get('thing')); // undefined
            }, 1000);
          });

          test('should remove an entire key', 2, function() {
            Kizzy('erin').set('is', 'awesome');
            ok(Kizzy('erin').get('is') == 'awesome');
            Kizzy.remove('erin');
            ok(Kizzy('erin').get('is') == undefined);
            Kizzy.clear();
          });

          init();

        });
      });
    </script>
  </head>
  <body>
    <h1>Kizzy tests</h1>
    <ol id="tests"></ol>
  </body>
</html>